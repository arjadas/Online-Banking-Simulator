import{b as L,t as H,B as U,C as A,u as G,c as I,d as z,e as B,G as N,f as W}from"./use-geist-ui-context-DCQYMvz0.js";import{R as l,r as y}from"./index-D34nGoGN.js";import{T as C,b as S,c as D,a as M,s as w}from"./react-redux-TNJK1e1K.js";import{r as V}from"./components-Bbc86ifj.js";var F={themes:C.getPresets()},O=l.createContext(F),$=function(e){var r=e.children,t=e.themeType,u=e.themes,s=u===void 0?[]:u,c=y.useState({themes:C.getPresets()}),v=L(c,2),a=v[0],i=v[1],m=y.useMemo(function(){var d=a.themes.find(function(f){return f.type===t});return d||C.getPresetStaticTheme()},[a,t]);return y.useEffect(function(){s!=null&&s.length&&i(function(d){var f=s.filter(function(T){return C.isAvailableThemeType(T.type)}),b=C.getPresets().concat(f);return S({},d,{themes:b})})},[s]),l.createElement(O.Provider,{value:a},l.createElement(D.Provider,{value:m},r))},q=function(e,r){var t=function(s,c){c&&c(s,r)};return!e||!e.length?null:e.map(function(u,s){return l.createElement(U,{auto:!0,scale:1/3,font:"13px",type:u.passive?"default":"secondary",key:"action-".concat(s),onClick:function(v){return t(v,u.handler)}},u.name)})},J=function(e,r){var t={default:e.background,secondary:e.secondary,success:e.success,warning:e.warning,error:e.error},u=!r||r==="default";return u?{bgColor:t.default,color:e.foreground}:{bgColor:t[r],color:"white"}};H("topLeft","topRight","bottomLeft","bottomRight");var K=function(e){return"".concat(e).toLowerCase().startsWith("top")},Q=function(e){return"".concat(e).toLowerCase().endsWith("left")},X=function(e){var r={topLeft:"translate(-60px, -60px)",topRight:"translate(60px, -60px)",bottomLeft:"translate(-60px, 60px)",bottomRight:"translate(60px, 60px)"},t={topLeft:"translate(-50px, 15px) scale(0.85)",topRight:"translate(50px, 15px) scale(0.85)",bottomLeft:"translate(-50px, -15px) scale(0.85)",bottomRight:"translate(50px, -15px) scale(0.85)"};return{enter:r[e],leave:t[e]}},Y=l.memo(function(h){var e=h.toast,r=h.layout,t=M(),u=y.useMemo(function(){return J(t.palette,e.type)},[t.palette,e.type]),s=u.color,c=u.bgColor,v=typeof e.text!="string",a=r.padding,i=r.margin,m=r.maxHeight,d=r.maxWidth,f=r.width,b=r.placement,T=y.useMemo(function(){return X(b)},[b]),p=T.enter,n=T.leave;return l.createElement(A,{name:"toast",visible:e.visible,clearTime:350},l.createElement("div",{key:e.id,className:w.dynamic([["1407001838",[f,d,m,t.palette.foreground,c,s,t.layout.radius,t.expressiveness.shadowSmall,t.layout.gapHalf,p,i,a,i,a,n]]])+" toast"},v?e.text:l.createElement(l.Fragment,null,l.createElement("div",{className:w.dynamic([["1407001838",[f,d,m,t.palette.foreground,c,s,t.layout.radius,t.expressiveness.shadowSmall,t.layout.gapHalf,p,i,a,i,a,n]]])+" message"},e.text),l.createElement("div",{className:w.dynamic([["1407001838",[f,d,m,t.palette.foreground,c,s,t.layout.radius,t.expressiveness.shadowSmall,t.layout.gapHalf,p,i,a,i,a,n]]])+" action"},q(e.actions,e.cancel))),l.createElement(w,{id:"1407001838",dynamic:[f,d,m,t.palette.foreground,c,s,t.layout.radius,t.expressiveness.shadowSmall,t.layout.gapHalf,p,i,a,i,a,n]},".toast.__jsx-style-dynamic-selector{width:".concat(f,";max-width:").concat(d,";max-height:").concat(m,";display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:").concat(t.palette.foreground,";background-color:").concat(c,";color:").concat(s,";border:0;border-radius:").concat(t.layout.radius,";opacity:1;box-shadow:").concat(t.expressiveness.shadowSmall,";-webkit-transition:all 350ms cubic-bezier(0.1,0.2,0.1,1);transition:all 350ms cubic-bezier(0.1,0.2,0.1,1);overflow:hidden;}.message.__jsx-style-dynamic-selector{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;font-size:0.875em;display:-webkit-box;word-break:break-all;padding-right:").concat(t.layout.gapHalf,";overflow:hidden;max-height:100%;text-overflow:ellipsis;-webkit-box-orient:vertical;-webkit-line-clamp:2;line-height:1.1rem;}.toast-enter.__jsx-style-dynamic-selector{opacity:0;height:0;padding:0;margin:0;-webkit-transform:").concat(p,";-ms-transform:").concat(p,";transform:").concat(p,";}.toast-enter-active.__jsx-style-dynamic-selector{opacity:1;height:auto;margin:").concat(i,";padding:").concat(a,";-webkit-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0);}.toast-leave.__jsx-style-dynamic-selector{opacity:1;-webkit-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0);height:auto;margin:").concat(i,";padding:").concat(a,";}.toast-leave-active.__jsx-style-dynamic-selector{opacity:0;-webkit-transform:").concat(n,";-ms-transform:").concat(n,";transform:").concat(n,";}"))))}),Z=function(){var e=M(),r=G("toast"),t=I(!1),u=L(t,3),s=u[1],c=u[2],v=z(),a=v.toasts,i=v.updateToasts,m=v.toastLayout,d=v.lastUpdateToastId,f=y.useMemo(function(){return m},[m]),b=y.useMemo(function(){return a.map(function(n){return l.createElement(Y,{toast:n,layout:f,key:n._internalIdent})})},[a,f]),T=y.useMemo(function(){return B("toasts",{top:K(m.placement),left:Q(m.placement)})},[f]),p=function(g){if(s(g),g)return i(function(x){return x.map(function(o){return o.visible?(o._timeout&&window.clearTimeout(o._timeout),S({},o,{timeout:null})):o})});i(function(x){return x.map(function(o,_){return o.visible?(o._timeout&&window.clearTimeout(o._timeout),S({},o,{_timeout:function(){var E=window.setTimeout(function(){o.cancel(),window.clearTimeout(E)},o.delay+_*100);return E}()})):o})})};return y.useEffect(function(){var n=a.findIndex(function(o){return o._internalIdent===d}),g=a[n];if(!(!g||g.visible||!c.current)){var x=a.find(function(o,_){return _<n&&o.visible});x||!c.current||p(!1)}},[a,d]),y.useEffect(function(){var n=null,g=window.setInterval(function(){a.length!==0&&(n=window.setTimeout(function(){var x=!a.find(function(o){return o.visible});x&&i(function(){return[]}),n&&clearTimeout(n)},350))},5e3);return function(){g&&clearInterval(g),n&&clearTimeout(n)}},[a]),!r||!a||a.length===0?null:V.createPortal(l.createElement("div",{onMouseEnter:function(){return p(!0)},onMouseLeave:function(){return p(!1)},className:w.dynamic([["622610754",[e.layout.gap,e.layout.gap,e.layout.gap,e.layout.gap]]])+" "+(T||"")},b,l.createElement(w,{id:"622610754",dynamic:[e.layout.gap,e.layout.gap,e.layout.gap,e.layout.gap]},".toasts.__jsx-style-dynamic-selector{position:fixed;width:auto;max-width:100%;right:".concat(e.layout.gap,";bottom:").concat(e.layout.gap,";z-index:2000;-webkit-transition:all 400ms ease;transition:all 400ms ease;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.top.__jsx-style-dynamic-selector{bottom:unset;-webkit-flex-direction:column-reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse;top:").concat(e.layout.gap,";}.left.__jsx-style-dynamic-selector{right:unset;left:").concat(e.layout.gap,";}"))),r)},re=function(e){var r=e.themes,t=e.themeType,u=e.children,s=y.useState(null),c=L(s,2),v=c[0],a=c[1],i=I([]),m=L(i,3),d=m[0],f=m[1],b=m[2],T=I(W),p=L(T,3),n=p[0],g=p[1],x=p[2],o=function(k){var P=k(b.current);f(P)},_=function(k){var P=k(x.current);g(P)},E=function(k){a(k())},R=y.useMemo(function(){return{toasts:d,toastLayout:n,updateToasts:o,lastUpdateToastId:v,updateToastLayout:_,updateLastToastId:E}},[d,n,v]);return l.createElement(N.Provider,{value:R},l.createElement($,{themes:r,themeType:t},u,l.createElement(Z,null)))};export{re as G};
